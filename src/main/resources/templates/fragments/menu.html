<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<div id="menu" class="menu" th:fragment="menu">

    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" th:href="@{/}">Charlie Home</a>
            </div>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav">
                    <!-- TODO Find solution for relative rendered links -->
                    <li th:each="menuItem: ${menuItems}" th:inline="text">
                        <a th:with="ext=(${render} ? '/index.html' : '')"
                        th:href="${#strings.startsWith(menuItem.target, 'http')} ? @{{target}(target=${menuItem.target})} : @{/{target}{index}(target=${menuItem.target}, index=${ext})}">
                            [[${menuItem.text}]]
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div>
        <h1>Charlie</h1>
        <h3>A Spring Static Site Generator</h3>
    </div>
</div>
</html>