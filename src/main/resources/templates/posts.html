<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header" lang="en"/>
<body>
<div id="mainContainer" class="flexBoxContainer">
	<div th:replace="fragments/adminmenu :: adminmenu"></div>
	<div th:replace="fragments/menu :: menu"></div>
	<div class="container">
		<div class="row">
			<div class="row">
				<div class="col-lg-8 col-md-7 col-sm-6">
					<h1 th:text="'Total Posts : ' + ${postCount}">Pages</h1>
					<table class="table table-striped table-hover">
						<thead>
						<tr>
                            <th>Page</th>
							<th>Title</th>
							<th>Short Name</th>
							<th>Edit</th>
							<th>Delete</th>
						</tr>
						</thead>
						<tbody>

						<tr th:each="post : ${posts}">
							<td th:id="${post.id}" th:inline="text"><a th:href="@{/{id}(id=${post.page.shortName})}">[[${post.page.name}]]</a></td>
                            <td th:id="${post.id}" th:inline="text">[[${post.title}]]</td>
							<td th:id="${post.id}" th:inline="text"><a th:href="@{/{pageid}/{id}(pageid=${post.page.shortName}, id=${post.shortName})}">[[${post.shortName}]]</a></td>
							<td th:id="${post.id}" th:inline="text"><a th:href="@{/posts/{id}(id=${post.id})}">Edit</a></td>
							<td th:id="${post.id}">
								<form id="deleteForm" th:action="@{/posts/{id}/delete(id=${post.id})}" method="post">
									<button type="submit" class="btn btn-danger delete-post" id="btn_deletePost">Delete</button>
								</form>
							</td>
						</tr>
						
						<tr>
							<td></td>
							<td></td>
							<td></td>
							<td>
								<a class="btn btn-primary new-page" th:href="@{/posts(new=true)}">New</a>
							</td>
						</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
	<div th:replace="fragments/footer :: footer"></div>
</div>
<!-- <script th:src="@{~/script/member.js}" type="application/javascript"></script> -->

</body>
</html>
